<!doctype html>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<style>
   .material-symbols-rounded {
      font-variation-settings:
      'FILL' 0,
      'wght' 300,
      'GRAD' 50,
      'opsz' 24
   }
</style>
<title>Mellow</title>

<div id="root"></div>
<script type="module" src="/client/main.tsx"></script>
<script>
function runOnKeys(λ, ...codes) {
   const history = new Set();

   document.addEventListener('keydown', event => {
      history.add(event.code);

      for (const code of codes) if (!history.has(code)) return

      // during the alert, if the visitor releases the keys,
      // JavaScript does not get the "keyup" event
      // and pressed set will keep assuming that the key is pressed
      // so, to evade "sticky" keys, we reset the status
      // if the user wants to run the hotkey again - let them press all keys again
      history.clear()
      λ()
   })

   document.addEventListener('keyup', event => history.delete(event.code))
}

runOnKeys(
   () => alert("Hello!"),
   "KeyQ",
   "KeyW",
)
</script>